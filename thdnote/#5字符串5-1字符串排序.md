# 5.1 字符串排序

![表5.0.2](/assets/表5.0.2.png)

## 5.1.1 键索引计数法

- 一种是用于小整数键的简单排序方法

  ![图5.1.1](/assets/图5.1.1.png)

- 频率统计
  - 使用int数组count[]计算每个键出现的平率。如果键为r，则将count[r+1]加1。

  ![图5.1.2](/assets/图5.1.2.png)

- 将频率转换为索引
  - 使用count[]来计算每个键在排序结果中的起始索引位置。

  ![图5.1.3](/assets/图5.1.3.png)

- 数据分类
  - 将所有元素（学生）移动到一个辅助数组aux[]中以进行排序。每个元素在aux[]中的位置是由它的键（组别）对应的count[]值决定，在移动之后将count[]中对应元素的值加1，以保证count[r]总是下一个键为r的元素在aux[]中的索引位置。

  ![图5.1.4](/assets/图5.1.4.png)

  ![图5.1.5](/assets/图5.1.5.png)

- 回写
  - 将排序的结果复制回原数组中。

![命题5a](/assets/命题5a.png)

- 键索引计数法（a[].key()为[0, R]之间的一个整数）

  ```java
  int N = a.length;

  String[] aux = new String[N];
  int[] count = new int[R+1];

  //计算出现频率
  for (int i = 0; i < N; i++)
    count[a[i].key() + 1]++;
  //将频率转换为索引
  for (int r = 0; r < R; r++)
    count[r+1] += count[r];
  //将元素分类
  for (int i = 0; i < N; i++)
    aux[count[a[i].key()]++] = a[i];
  //回写
  for (int i = 0; i < N; i++)
    a[i] = aux[i];
  ```
